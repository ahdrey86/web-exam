USE electronic_library;

-- Вставка ролей
INSERT INTO roles (name, description) VALUES
('administrator', 'Суперпользователь, имеет полный доступ к системе, в том числе к созданию и удалению книг'),
('moderator', 'Может редактировать данные книг и производить модерацию рецензий'),
('user', 'Может оставлять рецензии');

-- Вставка статусов рецензий
INSERT INTO review_statuses (name) VALUES
('pending'),
('approved'),
('rejected');

-- Вставка жанров
INSERT INTO genres (name) VALUES
('Фантастика'),
('Детектив'),
('Роман'),
('Классическая литература'),
('Поэзия'),
('Драма'),
('Приключения'),
('Биография'),
('История'),
('Научная литература'),
('Психология'),
('Философия');

-- Вставка тестовых пользователей (пароль: password для всех)
-- Хэш для пароля "password": pbkdf2:sha256:260000$salt$hash
INSERT INTO users (login, password_hash, last_name, first_name, middle_name, role_id) VALUES
('admin', 'pbkdf2:sha256:260000$FwXvJHvgTy0wT7Bh$b1f4b9c4d7e8f2a3c6d9e0f3a6b9c2d5e8f1a4b7c0d3e6f9a2b5c8d1e4f7a0b3c6d9e2f5a8b1c4d7e0f3a6b9c2d5', 'Администратор', 'Системный', 'Главный', 1),
('moderator', 'pbkdf2:sha256:260000$FwXvJHvgTy0wT7Bh$b1f4b9c4d7e8f2a3c6d9e0f3a6b9c2d5e8f1a4b7c0d3e6f9a2b5c8d1e4f7a0b3c6d9e2f5a8b1c4d7e0f3a6b9c2d5', 'Модератор', 'Главный', 'Контентный', 2),
('user1', 'pbkdf2:sha256:260000$FwXvJHvgTy0wT7Bh$b1f4b9c4d7e8f2a3c6d9e0f3a6b9c2d5e8f1a4b7c0d3e6f9a2b5c8d1e4f7a0b3c6d9e2f5a8b1c4d7e0f3a6b9c2d5', 'Иванов', 'Иван', 'Иванович', 3),
('user2', 'pbkdf2:sha256:260000$FwXvJHvgTy0wT7Bh$b1f4b9c4d7e8f2a3c6d9e0f3a6b9c2d5e8f1a4b7c0d3e6f9a2b5c8d1e4f7a0b3c6d9e2f5a8b1c4d7e0f3a6b9c2d5', 'Петрова', 'Анна', 'Сергеевна', 3);

-- Вставка тестовых книг
INSERT INTO books (title, short_description, publication_year, publisher, author, page_count) VALUES
('Война и мир', 'Роман-эпопея Льва Толстого, описывающий русское общество в эпоху войн против Наполеона в 1805—1812 годах.', 1869, 'Русский вестник', 'Лев Толстой', 1274),
('Преступление и наказание', 'Социально-психологический роман Фёдора Достоевского о молодом человеке Родионе Раскольникове.', 1866, 'Русский вестник', 'Фёдор Достоевский', 672),
('Мастер и Маргарита', 'Роман Михаила Булгакова, сочетающий в себе фантастику, сатиру, мистику и любовную лирику.', 1967, 'Москва', 'Михаил Булгаков', 384);

-- Связывание книг с жанрами
INSERT INTO book_genres (book_id, genre_id) VALUES
(1, 3), (1, 4), -- Война и мир: Роман, Классическая литература
(2, 3), (2, 4), -- Преступление и наказание: Роман, Классическая литература  
(3, 1), (3, 3); -- Мастер и Маргарита: Фантастика, Роман